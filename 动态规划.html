<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
 
  </style>
</head>

<body>

<script src="jquery.js"></script>
<script type="text/javascript">
var n=4;//宝石的数量
var C=9;//背包的体积
var V=[4,3,4,2];//宝石的体积
var W=[20,6,20,4];//宝石的价值
var d=new Array(n+1);//最大价值
//求解背包可装的最大价值
for(i=0;i<=n;i++){
	d[i]=new Array(C+1);
}
for( i=0; i<=n; ++i){
			for( j=0; j<=C; ++j){
				d[i][j] = i==0 ? 0 : d[i-1][j];
				if(i>0 && j>=V[i-1])	
					{d[i][j] = Math.max(d[i][j],d[i-1][j-V[i-1]]+W[i-1]);}
			}
		}
		console.log(d[n][C]);
//求解背包中装了哪些宝石
var j = C;
var x = new Array(n);
for(var i=n; i>0; --i){
	if(d[i][j] > d[i-1][j]){
		x[i-1] = 1;
		j = j - V[i-1];
	}else{
		x[i-1] = 0;
	}
}
for(var i=0; i<n; ++i)	{
	console.log(x[i])
}

//若单独求解最大价值，可较小空间复杂度，如下
// var d = new Array(C+1);
// for(i=0;i<=C;i++){
// 	d[i]=0;
// }
// for( i=0; i<=n; ++i){
// 			for( j=0; j<=C; ++j){
// 				// d[i][j] = i==0 ? 0 : d[i-1][j];
// 				if(i>0 && j>=V[i-1])	
// 					{d[j] = Math.max(d[j],d[j-V[i-1]]+W[i-1]);}
// 			}
// 		}
// 		console.log(d[C]);


</script>  
</body>
</html>